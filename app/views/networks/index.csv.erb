<%== "\u{feff}" -%>
<%- require 'csv' -%>
<%= %w[
  action
  id
  name
  flag
  vlan
  ipv4_network
  ipv4_gateway
  ipv4_pools
  ipv6_network
  ipv6_gateway
  ipv6_pools
  note
  result
  message
].join(',') %>
<%- @networks.each do |network| -%>
<%==
[
  '',
  network.id,
  network.name,
  [
    if network.auth then 'a' else '' end,
    if network.dhcp then 'd' else '' end,
    if network.locked then 'l' else '' end,
    if network.specific then 's' else '' end,
  ].join(''),
  network.vlan,
  network.ipv4_network&.to_string,
  network.ipv4_gateway,
  network.ipv4_pools.map(&:identifier).join(' '),
  network.ipv6_network&.to_string,
  network.ipv6_gateway,
  network.ipv6_pools.map.map(&:identifier).join(' '),
  network.note,
  'success',
  '',
].to_csv
-%>
<%- end -%>
