# MySQL
default: &default
  adapter: mysql2
  encoding: utf8mb4
  pool: <%= ENV.fetch("RAILS_MAX_THREADS") { 5 } %>
  username: <%= Settings.database.username.to_json %>
  password: <%= Settings.database.password.to_json %>
  host: <%= Settings.database.host.to_json %>

development:
  primary:
    <<: *default
    database: nodokan_development
  radius:
    <<: *default
    database: radius
    migrations_paths: db/radius_migrate
  kea:
    <<: *default
    database: kea
    migrations_paths: db/kea_migrate

test:
  primary:
    <<: *default
    database: nodokan_test
  radius:
    <<: *default
    database: radius
    migrations_paths: db/radius_migrate
  kea:
    <<: *default
    database: kea
    migrations_paths: db/kea_migrate

production:
  primary:
    <<: *default
    database: nodokan
    username: <%= Rails.application.credentials.dig(:database, :username).to_json %>
    password: <%= Rails.application.credentials.dig(:database, :password).to_json %>
  radius:
    <<: *default
    database: radius
    migrations_paths: db/radius_migrate
    username: <%= Rails.application.credentials.dig(:database, :username).to_json %>
    password: <%= Rails.application.credentials.dig(:database, :password).to_json %>
  kea:
    <<: *default
    database: kea
    migrations_paths: db/kea_migrate
    username: <%= Rails.application.credentials.dig(:database, :username).to_json %>
    password: <%= Rails.application.credentials.dig(:database, :password).to_json %>
